<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>应知应会考试练习系统</title>
<style>
  body { font-family: Arial; max-width: 720px; margin: auto; padding: 20px; line-height:1.6; }
  .question { font-size: 20px; margin-bottom: 15px; }
  .option { margin: 8px 0; display: block; }
  button { padding: 10px 20px; margin-top: 20px; }
  .result { font-size: 24px; color: green; }
</style>
</head>
<body>
<h2>应知应会题库练习系统</h2>
<div id="quiz"></div>
<script>
const questions = [
  {
    type: 'single',
    question: '我国的基本国情是（ ）。',
    options: ['A. 已进入发达国家', 'B. 仍处于并将长期处于社会主义初级阶段', 'C. 已完成社会主义现代化', 'D. 进入共产主义社会'],
    answer: 'B'
  },
  {
    type: 'multiple',
    question: '四项基本原则包括（ ）。',
    options: ['A. 坚持社会主义道路', 'B. 坚持人民民主专政', 'C. 坚持中国共产党的领导', 'D. 坚持马克思列宁主义毛泽东思想'],
    answer: ['A','B','C','D']
  },
  {
    type: 'blank',
    question: '中国共产党人的初心和使命是：__________。',
    answer: '为中国人民谋幸福，为中华民族谋复兴'
  }
];

let current = 0;
let score = 0;

function render() {
  if (current >= questions.length) {
    document.getElementById('quiz').innerHTML = `<div class='result'>考试完成！得分：${score}/${questions.length}</div>`;
    return;
  }

  const q = questions[current];
  let html = `<div class='question'>${current+1}. ${q.question}</div>`;

  if (q.type === 'single') {
    q.options.forEach(opt => {
      html += `<label class='option'><input type='radio' name='single' value='${opt}'> ${opt}</label>`;
    });
    html += `<button onclick='submitSingle()'>下一题</button>`;
  }

  if (q.type === 'multiple') {
    q.options.forEach(opt => {
      html += `<label class='option'><input type='checkbox' value='${opt}'> ${opt}</label>`;
    });
    html += `<button onclick='submitMulti()'>提交</button>`;
  }

  if (q.type === 'blank') {
    html += `<input id='blankInput' style='width:100%;padding:8px' placeholder='请输入答案'>`;
    html += `<button onclick='submitBlank()'>提交</button>`;
  }

  document.getElementById('quiz').innerHTML = html;
}

function submitSingle() {
  const selected = document.querySelector('input[name=single]:checked');
  if (!selected) return alert('请选择答案');
  if (selected.value === questions[current].answer) score++;
  current++;
  render();
}

function submitMulti() {
  const selected = [...document.querySelectorAll('input[type=checkbox]:checked')].map(x => x.value);
  const ans = questions[current].answer;
  if (JSON.stringify(selected.sort()) === JSON.stringify(ans.sort())) score++;
  current++;
  render();
}

function submitBlank() {
  const val = document.getElementById('blankInput').value.trim();
  if (val === questions[current].answer) score++;
  current++;
  render();
}

render();
</script>
</body>
</html>
